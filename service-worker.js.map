{"version":3,"file":"service-worker.js","sources":["../service-worker.js"],"sourcesContent":["var GHPATH = \"/OS-DPI\";\r\nvar APP_PREFIX = \"osdpi_\";\r\nvar VERSION = \"2024-0-11-16-25-29\";\r\nvar URLS = [\r\n  `${GHPATH}/`,\r\n  `${GHPATH}/index.html`,\r\n  `${GHPATH}/index.css`,\r\n  `${GHPATH}/index.js`,\r\n  `${GHPATH}/xlsx.js`\r\n];\r\nvar CACHE_NAME = APP_PREFIX + VERSION;\r\nself.addEventListener(\"fetch\", function(e) {\r\n  const url = new URL(e.request.url);\r\n  if (URLS.includes(url.pathname)) {\r\n    e.respondWith(\r\n      caches.match(e.request).then(function(request) {\r\n        if (request) {\r\n          return request;\r\n        } else {\r\n          return fetch(e.request);\r\n        }\r\n      })\r\n    );\r\n  }\r\n});\r\nself.addEventListener(\"install\", function(e) {\r\n  e.waitUntil(\r\n    caches.open(CACHE_NAME).then(function(cache) {\r\n      return cache.addAll(URLS);\r\n    })\r\n  );\r\n});\r\nself.addEventListener(\"activate\", function(e) {\r\n  e.waitUntil(\r\n    caches.keys().then(function(keyList) {\r\n      var cacheWhitelist = keyList.filter(function(key) {\r\n        return key.indexOf(APP_PREFIX);\r\n      });\r\n      cacheWhitelist.push(CACHE_NAME);\r\n      return Promise.all(\r\n        keyList.map(function(key, i) {\r\n          if (cacheWhitelist.indexOf(key) === -1) {\r\n            return caches.delete(keyList[i]);\r\n          }\r\n        })\r\n      );\r\n    })\r\n  );\r\n});\r\nself.addEventListener(\"message\", (event) => {\r\n  if (event.data === \"SKIP_WAITING\") {\r\n    /** @type {unknown} */\r\n    self.skipWaiting();\r\n  }\r\n});\r\n//# sourceMappingURL=service-worker.js.map\r\n"],"names":[],"mappings":"AAAA,IAAI,MAAM,GAAG,SAAS,CAAC;AACvB,IAAI,UAAU,GAAG,QAAQ,CAAC;AAC1B,IAAI,OAAO,GAAG,oBAAoB,CAAC;AACnC,IAAI,IAAI,GAAG;AACX,EAAE,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC;AACd,EAAE,CAAC,EAAE,MAAM,CAAC,WAAW,CAAC;AACxB,EAAE,CAAC,EAAE,MAAM,CAAC,UAAU,CAAC;AACvB,EAAE,CAAC,EAAE,MAAM,CAAC,SAAS,CAAC;AACtB,EAAE,CAAC,EAAE,MAAM,CAAC,QAAQ,CAAC;AACrB,CAAC,CAAC;AACF,IAAI,UAAU,GAAG,UAAU,GAAG,OAAO,CAAC;AACtC,IAAI,CAAC,gBAAgB,CAAC,OAAO,EAAE,SAAS,CAAC,EAAE;AAC3C,EAAE,MAAM,GAAG,GAAG,IAAI,GAAG,CAAC,CAAC,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;AACrC,EAAE,IAAI,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,QAAQ,CAAC,EAAE;AACnC,IAAI,CAAC,CAAC,WAAW;AACjB,MAAM,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,SAAS,OAAO,EAAE;AACrD,QAAQ,IAAI,OAAO,EAAE;AACrB,UAAU,OAAO,OAAO,CAAC;AACzB,SAAS,MAAM;AACf,UAAU,OAAO,KAAK,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC;AAClC,SAAS;AACT,OAAO,CAAC;AACR,KAAK,CAAC;AACN,GAAG;AACH,CAAC,CAAC,CAAC;AACH,IAAI,CAAC,gBAAgB,CAAC,SAAS,EAAE,SAAS,CAAC,EAAE;AAC7C,EAAE,CAAC,CAAC,SAAS;AACb,IAAI,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,SAAS,KAAK,EAAE;AACjD,MAAM,OAAO,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;AAChC,KAAK,CAAC;AACN,GAAG,CAAC;AACJ,CAAC,CAAC,CAAC;AACH,IAAI,CAAC,gBAAgB,CAAC,UAAU,EAAE,SAAS,CAAC,EAAE;AAC9C,EAAE,CAAC,CAAC,SAAS;AACb,IAAI,MAAM,CAAC,IAAI,EAAE,CAAC,IAAI,CAAC,SAAS,OAAO,EAAE;AACzC,MAAM,IAAI,cAAc,GAAG,OAAO,CAAC,MAAM,CAAC,SAAS,GAAG,EAAE;AACxD,QAAQ,OAAO,GAAG,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC;AACvC,OAAO,CAAC,CAAC;AACT,MAAM,cAAc,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;AACtC,MAAM,OAAO,OAAO,CAAC,GAAG;AACxB,QAAQ,OAAO,CAAC,GAAG,CAAC,SAAS,GAAG,EAAE,CAAC,EAAE;AACrC,UAAU,IAAI,cAAc,CAAC,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,EAAE;AAClD,YAAY,OAAO,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;AAC7C,WAAW;AACX,SAAS,CAAC;AACV,OAAO,CAAC;AACR,KAAK,CAAC;AACN,GAAG,CAAC;AACJ,CAAC,CAAC,CAAC;AACH,IAAI,CAAC,gBAAgB,CAAC,SAAS,EAAE,CAAC,KAAK,KAAK;AAC5C,EAAE,IAAI,KAAK,CAAC,IAAI,KAAK,cAAc,EAAE;AACrC;AACA,IAAI,IAAI,CAAC,WAAW,EAAE,CAAC;AACvB,GAAG;AACH,CAAC,CAAC"}